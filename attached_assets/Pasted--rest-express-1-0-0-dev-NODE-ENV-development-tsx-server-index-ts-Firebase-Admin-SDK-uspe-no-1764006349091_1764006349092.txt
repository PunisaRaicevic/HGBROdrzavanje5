> rest-express@1.0.0 dev
> NODE_ENV=development tsx server/index.ts

‚úÖ Firebase Admin SDK uspe≈°no inicijalizovan
üì± FCM Project: hgbtapp
[SOCKET.IO] Server initialized and ready
[INIT] Socket.IO initialized for real-time notifications
5:45:16 PM [express] serving on port 5000
[CRON SCHEDULER] Starting... Will run every 15 minutes
[CRON SCHEDULER] ‚úÖ Started successfully

A PostCSS plugin did not pass the `from` option to `postcss.parse`. This may cause imported assets to be incorrectly transformed. If you've recently added a PostCSS plugin that raised this warning, please contact the package author to fix the issue.
[CRON SCHEDULER] Triggering recurring tasks processing...
[CRON] Processing recurring tasks...
[CRON] Found 4 recurring tasks
[RECURRING] Template 2234f184-b080-46fd-9b52-0858d336f5c4 already has 8 child tasks
[RECURRING] Template ad4c5468-c50a-4bb3-8b7c-da89ed00ddc0 already has 8 child tasks
[RECURRING] Template 8a504c01-81b6-414c-b269-337ab1f5dac0 already has 8 child tasks
[RECURRING] Template 682d0950-92be-4bf3-8701-bd4d8157889a already has 8 child tasks
[CRON] Finished processing. Created 0 new tasks
[CRON SCHEDULER] Result: { processed: 0, total: 4, results: [] }
[CRON SCHEDULER] No tasks to process
üì± [APP WEB] [2025-11-24T17:45:25.831Z]: [APP WEB] Remote logger aktiviran
üì± [APP WEB] [2025-11-24T17:45:25.832Z]: [APP WEB] ‚úÖ Capacitor je dostupan
üì± [APP WEB] [2025-11-24T17:45:25.832Z]: [APP WEB] üöÄ Pokretanje aplikacije...
üì± [APP WEB] [2025-11-24T17:45:25.833Z]: [APP WEB] üåê Web verzija - push notifikacije iskljuƒçene
üì± [APP WEB] [2025-11-24T17:45:25.832Z]: [APP WEB] üì± Platform: web
üì± [APP WEB] [2025-11-24T17:45:25.833Z]: [APP WEB] üì± Is Native: false
5:45:28 PM [express] POST /api/debug/log 200 in 127ms :: {"ok":true}
5:45:28 PM [express] POST /api/debug/log 200 in 127ms :: {"ok":true}
5:45:28 PM [express] POST /api/debug/log 200 in 127ms :: {"ok":true}
5:45:28 PM [express] POST /api/debug/log 200 in 127ms :: {"ok":true}
5:45:28 PM [express] POST /api/debug/log 200 in 128ms :: {"ok":true}
5:45:28 PM [express] POST /api/debug/log 200 in 128ms :: {"ok":true}
üì± [APP WEB] [2025-11-24T17:45:25.833Z]: [APP WEB] ‚úÖ Renderujem React aplikaciju...
üì± [APP WEB] [2025-11-24T17:45:25.879Z]: üì± [useFCM:6:45:25 PM] Hook called with userId: UNDEFINED
üì± [APP WEB] [2025-11-24T17:45:25.857Z]: üìç [Router] Current user: NOT LOGGED IN ID: UNDEFINED
üì± [APP WEB] [2025-11-24T17:45:25.880Z]: üì± [useFCM:6:45:25 PM] Window location: https://0f8348da-785a-4a32-a048-3781e2402d8c-00-1ifebzeou9igx.picard.replit.dev/
‚ö†Ô∏è [APP WEB] [2025-11-24T17:45:25.880Z]: ‚ö†Ô∏è [useFCM:6:45:25 PM] Skipping FCM setup - no userId provided
5:45:28 PM [express] POST /api/debug/log 200 in 128ms :: {"ok":true}
5:45:28 PM [express] POST /api/debug/log 200 in 129ms :: {"ok":true}
5:45:28 PM [express] POST /api/debug/log 200 in 127ms :: {"ok":true}
5:45:28 PM [express] POST /api/debug/log 200 in 128ms :: {"ok":true}
5:45:28 PM [express] POST /api/debug/log 200 in 128ms :: {"ok":true}
5:45:29 PM [express] GET /api/auth/me 200 in 396ms :: {"user":{"id":"a9d31e1c-f58a-4967-8513-b205b6c‚Ä¶
üì± [APP WEB] [2025-11-24T17:45:26.929Z]: üìç [Router] Current user: Aleksandar Joviƒá ID: a9d31e1c...
üì± [APP WEB] [2025-11-24T17:45:26.959Z]: [QUERY] Fetching: /api/tasks
üì± [APP WEB] [2025-11-24T17:45:26.960Z]: [QUERY] Headers: {"Authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiJhOWQzMWUxYy1mNThhLTQ5NjctODUxMy1iMjA1YjZjZTBhZmUiLCJ1c2VybmFtZSI6ImFsZWtzYW5kYXIiLCJyb2xlIjoib3BlcmF0ZXIiLCJmdWxsTmFtZSI6IkFsZWtzYW5kYXIgSm92acSHIiwiaWF0IjoxNzYzOTc4Mjc5LCJleHAiOjE3NjY1NzAyNzksImlzcyI6ImhnYnItaG90ZWwtbWFuYWdlbWVudCJ9.rGLwlvTihRoxEEmYETyBFNcXcWzxBfcLbjltyxQreuo"}
üì± [APP WEB] [2025-11-24T17:45:26.962Z]: ‚úÖ [useFCM:6:45:26 PM] userId is valid - proceeding with FCM setup
üì± [APP WEB] [2025-11-24T17:45:26.961Z]: üì± [useFCM:6:45:26 PM] Window location: https://0f8348da-785a-4a32-a048-3781e2402d8c-00-1ifebzeou9igx.picard.replit.dev/
üì± [APP WEB] [2025-11-24T17:45:26.961Z]: üì± [useFCM:6:45:26 PM] Hook called with userId: a9d31e1c...
5:45:29 PM [express] POST /api/debug/log 200 in 127ms :: {"ok":true}
5:45:29 PM [express] POST /api/debug/log 200 in 126ms :: {"ok":true}
5:45:29 PM [express] POST /api/debug/log 200 in 126ms :: {"ok":true}
5:45:29 PM [express] POST /api/debug/log 200 in 127ms :: {"ok":true}
5:45:29 PM [express] POST /api/debug/log 200 in 125ms :: {"ok":true}
5:45:29 PM [express] POST /api/debug/log 200 in 128ms :: {"ok":true}
üì± [APP WEB] [2025-11-24T17:45:26.962Z]: üìù [useFCM:6:45:26 PM] Postavljam timeout od 500ms za setupFCM...
[AUTH] User authenticated via JWT: a9d31e1c-f58a-4967-8513-b205b6ce0afe
5:45:29 PM [express] POST /api/debug/log 200 in 127ms :: {"ok":true}
üì± [APP WEB] [2025-11-24T17:45:27.475Z]: üöÄ [FCM:6:45:27 PM] Platform DETECTED: web, Is Native: false
üì± [APP WEB] [2025-11-24T17:45:27.474Z]: üìù [useFCM] Pozivam setupFCM...
üì± [APP WEB] [2025-11-24T17:45:27.476Z]: üöÄ [FCM:6:45:27 PM] Capacitor.isNativePlatform() = false
üì± [APP WEB] [2025-11-24T17:45:27.476Z]: ‚úÖ [FCM:6:45:27 PM] JWT token dostupan
5:45:30 PM [express] POST /api/debug/log 200 in 128ms :: {"ok":true}
5:45:30 PM [express] POST /api/debug/log 200 in 126ms :: {"ok":true}
5:45:30 PM [express] POST /api/debug/log 200 in 127ms :: {"ok":true}
5:45:30 PM [express] POST /api/debug/log 200 in 130ms :: {"ok":true}
üì± [APP WEB] [2025-11-24T17:45:27.477Z]: üåê [FCM:6:45:27 PM] Web verzija - Slanje fallback FCM tokena...
5:45:30 PM [express] GET /api/tasks 304 in 512ms :: {"tasks":[{"id":"762a808d-e851-4c77-9784-ecab409‚Ä¶
5:45:30 PM [express] POST /api/debug/log 200 in 130ms :: {"ok":true}
üì± [APP WEB] [2025-11-24T17:45:27.477Z]: [API REQUEST] POST /api/users/fcm-token
üì± [APP WEB] [2025-11-24T17:45:27.477Z]: [API REQUEST] Headers: {"Content-Type":"application/json","Authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiJhOWQzMWUxYy1mNThhLTQ5NjctODUxMy1iMjA1YjZjZTBhZmUiLCJ1c2VybmFtZSI6ImFsZWtzYW5kYXIiLCJyb2xlIjoib3BlcmF0ZXIiLCJmdWxsTmFtZSI6IkFsZWtzYW5kYXIgSm92acSHIiwiaWF0IjoxNzYzOTc4Mjc5LCJleHAiOjE3NjY1NzAyNzksImlzcyI6ImhnYnItaG90ZWwtbWFuYWdlbWVudCJ9.rGLwlvTihRoxEEmYETyBFNcXcWzxBfcLbjltyxQreuo"}
[FCM TOKEN ENDPOINT] === START ===
[FCM TOKEN ENDPOINT] Body: {"token":"web-fcm-a9d31e1c-f58a-4967-8513-b205b6ce0afe-1764006327477"}
[FCM TOKEN ENDPOINT] Headers: [
  'host',
  'user-agent',
  'content-length',
  'accept',
  'accept-encoding',
  'accept-language',
  'authorization',
  'content-type',
  'cookie',
  'origin',
  'referer',
  'sec-ch-ua',
  'sec-ch-ua-mobile',
  'sec-ch-ua-platform',
  'sec-fetch-dest',
  'sec-fetch-mode',
  'sec-fetch-site',
  'sec-fetch-storage-access',
  'x-forwarded-for',
  'x-forwarded-proto',
  'x-replit-user-bio',
  'x-replit-user-id',
  'x-replit-user-name',
  'x-replit-user-profile-image',
  'x-replit-user-roles',
  'x-replit-user-teams',
  'x-replit-user-url'
]
[FCM TOKEN ENDPOINT] Authenticated via JWT: a9d31e1c-f58a-4967-8513-b205b6ce0afe
[FCM TOKEN ENDPOINT] Token value length: 58
üì± [APP WEB] [2025-11-24T17:45:27.478Z]: [API REQUEST] Body: {"token":"web-fcm-a9d31e1c-f58a-4967-8513-b205b6ce0afe-1764006327477"}
[FCM TOKEN ENDPOINT] Updating fcm_token for user a9d31e1c-f58a-4967-8513-b205b6ce0afe...
5:45:30 PM [express] POST /api/debug/log 200 in 126ms :: {"ok":true}
5:45:30 PM [express] POST /api/debug/log 200 in 126ms :: {"ok":true}
5:45:30 PM [express] POST /api/debug/log 200 in 127ms :: {"ok":true}
[FCM TOKEN ENDPOINT] SUCCESS! fcm_token stored: true
[FCM TOKEN ENDPOINT] === END ===
üì± [APP WEB] [2025-11-24T17:45:27.479Z]: üîî [Web FCM] Priprema Firebase Messaging za browser...
üì± [APP WEB] [2025-11-24T17:45:27.479Z]: ‚úÖ [Web FCM] JWT token dostupan
5:45:30 PM [express] POST /api/users/fcm-token 200 in 343ms :: {"success":true,"userId":"a9d31e1c-f5‚Ä¶
5:45:30 PM [express] POST /api/debug/log 200 in 127ms :: {"ok":true}
‚ùå [APP WEB] [2025-11-24T17:45:27.486Z]: ‚ùå [Web FCM] Gre≈°ka: {}
5:45:30 PM [express] POST /api/debug/log 200 in 127ms :: {"ok":true}
üì± [APP WEB] [2025-11-24T17:45:28.146Z]: [QUERY] Response status: 200
üì± [APP WEB] [2025-11-24T17:45:28.150Z]: [QUERY] Success, data length: 72
5:45:30 PM [express] POST /api/debug/log 200 in 124ms :: {"ok":true}
5:45:30 PM [express] POST /api/debug/log 200 in 127ms :: {"ok":true}
5:45:30 PM [express] POST /api/debug/log 200 in 130ms :: {"ok":true}
üì± [APP WEB] [2025-11-24T17:45:28.522Z]: [API REQUEST] Response status: 200
üì± [APP WEB] [2025-11-24T17:45:28.522Z]: ‚úÖ [FCM:6:45:27 PM] Web fallback token poslat: {}
5:45:31 PM [express] POST /api/debug/log 200 in 129ms :: {"ok":true}
5:45:31 PM [express] POST /api/debug/log 200 in 129ms :: {"ok":true}
[AUTH] User authenticated via JWT: a9d31e1c-f58a-4967-8513-b205b6ce0afe
üì± [APP WEB] [2025-11-24T17:45:38.160Z]: [QUERY] Fetching: /api/tasks
üì± [APP WEB] [2025-11-24T17:45:38.160Z]: [QUERY] Headers: {"Authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiJhOWQzMWUxYy1mNThhLTQ5NjctODUxMy1iMjA1YjZjZTBhZmUiLCJ1c2VybmFtZSI6ImFsZWtzYW5kYXIiLCJyb2xlIjoib3BlcmF0ZXIiLCJmdWxsTmFtZSI6IkFsZWtzYW5kYXIgSm92acSHIiwiaWF0IjoxNzYzOTc4Mjc5LCJleHAiOjE3NjY1NzAyNzksImlzcyI6ImhnYnItaG90ZWwtbWFuYWdlbWVudCJ9.rGLwlvTihRoxEEmYETyBFNcXcWzxBfcLbjltyxQreuo"}
5:45:40 PM [express] POST /api/debug/log 200 in 127ms :: {"ok":true}
5:45:40 PM [express] POST /api/debug/log 200 in 130ms :: {"ok":true}
5:45:41 PM [express] GET /api/tasks 304 in 583ms :: {"tasks":[{"id":"762a808d-e851-4c77-9784-ecab409‚Ä¶
üì± [APP WEB] [2025-11-24T17:45:39.031Z]: [QUERY] Response status: 200
üì± [APP WEB] [2025-11-24T17:45:39.034Z]: [QUERY] Success, data length: 72
5:45:41 PM [express] POST /api/debug/log 200 in 127ms :: {"ok":true}
5:45:41 PM [express] POST /api/debug/log 200 in 130ms :: {"ok":true}
