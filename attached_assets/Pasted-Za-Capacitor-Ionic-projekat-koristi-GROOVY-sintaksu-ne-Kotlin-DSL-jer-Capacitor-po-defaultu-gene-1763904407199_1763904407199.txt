Za Capacitor/Ionic projekat, koristi GROOVY sintaksu (ne Kotlin DSL), jer Capacitor po defaultu generi≈°e build.gradle fajlove, a NE build.gradle.kts.

Razlika izmeƒëu sintaksi
SintaksaFajlJezikGroovybuild.gradleGroovyKotlin DSLbuild.gradle.ktsKotlin
Capacitor koristi Groovy, tako da ignori≈°e≈° Kotlin DSL tab.

≈†ta taƒçno treba da uradi≈° - GROOVY SINTAKSA
KORAK 1: Project-level build.gradle
Otvori: android/build.gradle
groovy// Top-level build file where you can add configuration options common to all sub-projects/modules.

buildscript {
    repositories {
        google()
        mavenCentral()
    }
    dependencies {
        classpath 'com.android.tools.build:gradle:8.0.0'  // Mo≈æda ima≈° drugu verziju
        
        // ‚Üê DODAJ OVU LINIJU
        classpath 'com.google.gms:google-services:4.4.4'
    }
}

// Ostatak fajla ostaje isti...
≈†TA SI DODAO?

classpath 'com.google.gms:google-services:4.4.4' - Google services plugin


KORAK 2: App-level build.gradle
Otvori: android/app/build.gradle
groovyapply plugin: 'com.android.application'

// ‚Üê DODAJ OVU LINIJU (na vrhu, posle android plugina)
apply plugin: 'com.google.gms.google-services'

android {
    namespace "com.mojacompanija.mojaapp"  // Tvoj package name
    compileSdkVersion rootProject.ext.compileSdkVersion
    // ... ostalo
}

dependencies {
    implementation fileTree(dir: 'libs', include: ['*.jar'])
    
    // ‚Üê DODAJ BOM (Bill of Materials) za Firebase
    implementation platform('com.google.firebase:firebase-bom:34.6.0')
    
    // ‚Üê DODAJ Firebase dependencies koje treba≈°
    implementation 'com.google.firebase:firebase-messaging'  // Za push notifikacije
    implementation 'com.google.firebase:firebase-analytics'   // Opciono
    
    // ... ostale dependencies
}
≈†TA SI DODAO?

apply plugin: 'com.google.gms.google-services' - Aktivira plugin
implementation platform('com.google.firebase:firebase-bom:...') - Bill of Materials (upravlja verzijama)
implementation 'com.google.firebase:firebase-messaging' - Za push notifikacije


Za≈°to Firebase BoM (Bill of Materials)?
BoM automatski sinhronizuje verzije svih Firebase biblioteka:
Bez BoM-a (stari naƒçin):
groovyimplementation 'com.google.firebase:firebase-messaging:23.2.0'
implementation 'com.google.firebase:firebase-analytics:21.3.0'
// Mora≈° ruƒçno da prati≈° kompatibilne verzije üòì
Sa BoM-om (novi naƒçin):
groovyimplementation platform('com.google.firebase:firebase-bom:34.6.0')
implementation 'com.google.firebase:firebase-messaging'  // Bez verzije!
implementation 'com.google.firebase:firebase-analytics'  // Bez verzije!
// BoM automatski bira kompatibilne verzije üéâ

Koje Firebase dependencies ti trebaju?
Za push notifikacije, minimalno:
groovydependencies {
    // Firebase BoM
    implementation platform('com.google.firebase:firebase-bom:34.6.0')
    
    // Push notifikacije (OBAVEZNO)
    implementation 'com.google.firebase:firebase-messaging'
    
    // Analytics (OPCIONO, ali preporuƒçeno)
    implementation 'com.google.firebase:firebase-analytics'
}
Druge korisne biblioteke (dodaj po potrebi):
groovyimplementation 'com.google.firebase:firebase-firestore'    // Firestore baza
implementation 'com.google.firebase:firebase-auth'         // Autentifikacija
implementation 'com.google.firebase:firebase-storage'      // Storage
implementation 'com.google.firebase:firebase-crashlytics' // Crash reporting
Puna lista dostupnih biblioteka

Kompletan primer - Oba fajla
1. android/build.gradle (project-level)
groovybuildscript {
    repositories {
        google()
        mavenCentral()
    }
    dependencies {
        classpath 'com.android.tools.build:gradle:8.0.0'
        classpath 'com.google.gms:google-services:4.4.4'  // ‚Üê Dodato
    }
}

apply from: "variables.gradle"

allprojects {
    repositories {
        google()
        mavenCentral()
    }
}

task clean(type: Delete) {
    delete rootProject.buildDir
}

2. android/app/build.gradle (app-level)
groovyapply plugin: 'com.android.application'
apply plugin: 'com.google.gms.google-services'  // ‚Üê Dodato

android {
    namespace "com.mojacompanija.mojaapp"
    compileSdkVersion rootProject.ext.compileSdkVersion
    
    defaultConfig {
        applicationId "com.mojacompanija.mojaapp"
        minSdkVersion rootProject.ext.minSdkVersion
        targetSdkVersion rootProject.ext.targetSdkVersion
        versionCode 1
        versionName "1.0"
    }
    
    buildTypes {
        release {
            minifyEnabled false
            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'
        }
    }
}

repositories {
    flatDir {
        dirs '../capacitor-cordova-android-plugins/src/main/libs', 'libs'
    }
}

dependencies {
    implementation fileTree(include: ['*.jar'], dir: 'libs')
    implementation "androidx.appcompat:appcompat:$androidxAppCompatVersion"
    implementation "androidx.coordinatorlayout:coordinatorlayout:$androidxCoordinatorLayoutVersion"
    implementation "androidx.core:core-splashscreen:$coreSplashScreenVersion"
    implementation project(':capacitor-android')
    
    // ‚Üê Firebase dependencies dodato
    implementation platform('com.google.firebase:firebase-bom:34.6.0')
    implementation 'com.google.firebase:firebase-messaging'
    implementation 'com.google.firebase:firebase-analytics'
    
    testImplementation "junit:junit:$junitVersion"
    androidTestImplementation "androidx.test.ext:junit:$androidxJunitVersion"
    androidTestImplementation "androidx.test.espresso:espresso-core:$androidxEspressoCoreVersion"
    implementation project(':capacitor-cordova-android-plugins')
}

apply from: 'capacitor.build.gradle'

try {
    def servicesJSON = file('google-services.json')
    if (servicesJSON.text) {
        apply plugin: 'com.google.gms.google-services'
    }
} catch(Exception e) {
    logger.info("google-services.json not found, google-services plugin not applied. Push Notifications won't work")
}

KORAK 3: Sync projekta
Nakon ≈°to izmeni≈° fajlove:
bash# Sync Capacitor sa native projektom
npx cap sync android

# Ili otvori u Android Studio i sync automatski
npx cap open android
U Android Studio, klikni File ‚Üí Sync Project with Gradle Files.

Kako proveriti da li radi?
1. Build projekat
bashcd android
./gradlew build
```

### 2. Proveri da li je `google-services.json` uƒçitan
Posle builda, proveri da li postoji:
```
android/app/build/generated/res/google-services/debug/values/values.xml
Ako ovaj fajl postoji, Google services plugin je uspe≈°no procesirao google-services.json!