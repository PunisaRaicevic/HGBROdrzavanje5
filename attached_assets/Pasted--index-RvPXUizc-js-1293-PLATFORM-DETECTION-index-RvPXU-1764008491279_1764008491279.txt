â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
index-RvPXUizc.js:1293 ğŸ” PLATFORM DETECTION
index-RvPXUizc.js:1293 â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
index-RvPXUizc.js:1293 Platform: android
index-RvPXUizc.js:1293 Is Native: true
index-RvPXUizc.js:1293 App Prefix: [APP ANDROID]
index-RvPXUizc.js:1293 Capacitor Available: true
index-RvPXUizc.js:1293 â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
index-RvPXUizc.js:1293 [APP ANDROID] Remote logger aktiviran
index-RvPXUizc.js:1293 [APP ANDROID] âœ… Capacitor je dostupan
index-RvPXUizc.js:1293 [APP ANDROID] ğŸš€ Pokretanje aplikacije...
index-RvPXUizc.js:1293 [APP ANDROID] ğŸ“± Platform: android
index-RvPXUizc.js:1293 [APP ANDROID] ğŸ“± Is Native: true
index-RvPXUizc.js:1293 [APP ANDROID] ğŸ“± Detektovan Android/iOS - Firebase FCM Ä‡e biti inicijalizovan u App.tsx
index-RvPXUizc.js:1293 [APP ANDROID] âœ… Renderujem React aplikaciju...
index-RvPXUizc.js:1293 ğŸ“ [Router] Current user: NOT LOGGED IN ID: UNDEFINED
index-RvPXUizc.js:1293 ğŸ“± [useFCM:7:20:18 PM] Hook called with userId: UNDEFINED
index-RvPXUizc.js:1293 ğŸ“± [useFCM:7:20:18 PM] Window location: https://localhost/
index-RvPXUizc.js:1293 âš ï¸ [useFCM:7:20:18 PM] Skipping FCM setup - no userId provided
console.<computed> @ index-RvPXUizc.js:1293
index-RvPXUizc.js:1293 ğŸ“ [Router] Current user: NOT LOGGED IN ID: UNDEFINED
index-RvPXUizc.js:1293 Uncaught (in promise) FirebaseError: Messaging: This browser doesn't support the API's required to use the Firebase SDK. (messaging/unsupported-browser).
    at index-RvPXUizc.js:1293:60
VM3:348 native App.addListener (#15859246)
index-RvPXUizc.js:1293 [AUTH] Clearing old authentication data before login...
index-RvPXUizc.js:1293 [AUTH] Attempting login for: milica
index-RvPXUizc.js:1293 [API] Using backend URL: https://HGBRTehnickaSluzba.replit.app
index-RvPXUizc.js:1293 ğŸ“ [Router] Current user: NOT LOGGED IN ID: UNDEFINED
index-RvPXUizc.js:1293 [AUTH] Login successful for: Milica PetroviÄ‡ Role: recepcioner
index-RvPXUizc.js:1293 [AUTH] âœ… NEW JWT token stored: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiO...
index-RvPXUizc.js:1293 ğŸ“ [Router] Current user: Milica PetroviÄ‡ ID: e39c4001...
index-RvPXUizc.js:1293 [MY TASKS] Fetching tasks for user: e39c4001-e9d2-45a8-97aa-462b85d188b4
index-RvPXUizc.js:1293 [API] Using backend URL: https://HGBRTehnickaSluzba.replit.app
index-RvPXUizc.js:1293 [API REQUEST] GET https://HGBRTehnickaSluzba.replit.app/api/tasks/my?userId=e39c4001-e9d2-45a8-97aa-462b85d188b4
index-RvPXUizc.js:1293 [API REQUEST] Headers: Object
index-RvPXUizc.js:1293 ğŸ“± [useFCM:7:20:29 PM] Hook called with userId: e39c4001...
index-RvPXUizc.js:1293 ğŸ“± [useFCM:7:20:29 PM] Window location: https://localhost/
index-RvPXUizc.js:1293 âœ… [useFCM:7:20:29 PM] userId is valid - proceeding with FCM setup
index-RvPXUizc.js:1293 ğŸ“ [useFCM:7:20:29 PM] Postavljam timeout od 500ms za setupFCM...
index-RvPXUizc.js:1293 ğŸ“± [Web FCM] Preskakam Web FCM - koristi se Capacitor Push Notifications
index-RvPXUizc.js:1293 ğŸ“ [useFCM] Pozivam setupFCM...
index-RvPXUizc.js:1293 ğŸš€ [FCM:7:20:30 PM] Platform DETECTED: android, Is Native: true
index-RvPXUizc.js:1293 ğŸš€ [FCM:7:20:30 PM] Capacitor.isNativePlatform() = true
index-RvPXUizc.js:1293 âœ… [FCM:7:20:30 PM] JWT token dostupan
index-RvPXUizc.js:1293 ğŸ“± [FCM:7:20:30 PM] MOBILNA VERZIJA DETEKTOVANA! Platform: android
index-RvPXUizc.js:1293 ğŸ“ [FCM:7:20:30 PM] Kreiram notification channel...
VM3:348 native PushNotifications.createChannel (#15859247)
VM3:328 result PushNotifications.createChannel (#15859247)
index-RvPXUizc.js:1293 âœ… [FCM] Notification channel "reklamacije-alert" created
index-RvPXUizc.js:1293 âœ… [FCM:7:20:30 PM] Notification channel kreiran
index-RvPXUizc.js:1293 ğŸ“ [FCM:7:20:30 PM] Importujem @capacitor/push-notifications...
index-RvPXUizc.js:1293 âœ… [FCM:7:20:30 PM] PushNotifications importovan
index-RvPXUizc.js:1293 ğŸ“‹ [FCM:7:20:30 PM] Zahtevam push dozvole...
VM3:348 native PushNotifications.requestPermissions (#15859248)
index-RvPXUizc.js:1293 [API REQUEST] Response status: 200
index-RvPXUizc.js:1293 [MY TASKS] Success, tasks count: 3
VM3:328 result PushNotifications.requestPermissions (#15859248)
index-RvPXUizc.js:1293 âœ… [FCM:7:20:30 PM] Permission result: granted
index-RvPXUizc.js:1293 âœ… [FCM:7:20:30 PM] Push dozvola odobrena
index-RvPXUizc.js:1293 ğŸ“ [FCM:7:20:30 PM] Registrujem ureÄ‘aj...
index-RvPXUizc.js:1293 ğŸ“ [FCM:7:20:30 PM] Pozivam PushNotifications.register()...
VM3:348 native PushNotifications.addListener (#15859249)
VM3:348 native PushNotifications.addListener (#15859250)
VM3:348 native PushNotifications.addListener (#15859251)
VM3:348 native PushNotifications.addListener (#15859252)
VM3:348 native PushNotifications.register (#15859253)
VM3:328 result PushNotifications.addListener (#15859249)
index-RvPXUizc.js:1293 ğŸ”¥ [FCM:7:20:33 PM] Token primljen: eoxc2jNaST6LiHPAC-B0tP:APA91bEIYR9FrSWgzUY9pfE-clP...
index-RvPXUizc.js:1293 ğŸ“¤ [FCM:7:20:33 PM] Slanje tokena na backend...
index-RvPXUizc.js:1293 [API] Using backend URL: https://HGBRTehnickaSluzba.replit.app
index-RvPXUizc.js:1293 [API REQUEST] POST https://HGBRTehnickaSluzba.replit.app/api/users/fcm-token
index-RvPXUizc.js:1293 [API REQUEST] Headers: Object
index-RvPXUizc.js:1293 [API REQUEST] Body: Object
VM3:328 result PushNotifications.register (#15859253)
index-RvPXUizc.js:1293 âœ… [FCM:7:20:30 PM] UreÄ‘aj registrovan - Äekam token...
VM3:328 result PushNotifications.addListener (#15859249)
index-RvPXUizc.js:1293 ğŸ”¥ [FCM:7:20:33 PM] Token primljen: eoxc2jNaST6LiHPAC-B0tP:APA91bEIYR9FrSWgzUY9pfE-clP...
index-RvPXUizc.js:1293 ğŸ“¤ [FCM:7:20:33 PM] Slanje tokena na backend...
index-RvPXUizc.js:1293 [API] Using backend URL: https://HGBRTehnickaSluzba.replit.app
index-RvPXUizc.js:1293 [API REQUEST] POST https://HGBRTehnickaSluzba.replit.app/api/users/fcm-token
index-RvPXUizc.js:1293 [API REQUEST] Headers: Object
index-RvPXUizc.js:1293 [API REQUEST] Body: Object
index-RvPXUizc.js:1293 [API REQUEST] Response status: 200
index-RvPXUizc.js:1293 âœ… [FCM:7:20:33 PM] Token saÄuvan na backend! Response
index-RvPXUizc.js:1293 [API REQUEST] Response status: 200
index-RvPXUizc.js:1293 âœ… [FCM:7:20:33 PM] Token saÄuvan na backend! Response
index-RvPXUizc.js:1293 ğŸ“ [Router] Current user: Milica PetroviÄ‡ ID: e39c4001...
index-RvPXUizc.js:1293 [AUTH] Logging out...
index-RvPXUizc.js:1293 [API] Using backend URL: https://HGBRTehnickaSluzba.replit.app
index-RvPXUizc.js:1293 [AUTH] Clearing localStorage and session...
index-RvPXUizc.js:1293 [AUTH] âœ… Logout complete - all tokens cleared
index-RvPXUizc.js:1293 ğŸ“ [Router] Current user: NOT LOGGED IN ID: UNDEFINED
index-RvPXUizc.js:1293 ğŸ“± [useFCM:7:20:58 PM] Hook called with userId: UNDEFINED
index-RvPXUizc.js:1293 ğŸ“± [useFCM:7:20:58 PM] Window location: https://localhost/
index-RvPXUizc.js:1293 âš ï¸ [useFCM:7:20:58 PM] Skipping FCM setup - no userId provided
console.<computed> @ index-RvPXUizc.js:1293
(anonymous) @ index-RvPXUizc.js:425
kf @ index-RvPXUizc.js:41
Qi @ index-RvPXUizc.js:41
Rw @ index-RvPXUizc.js:41
fo @ index-RvPXUizc.js:39
FI @ index-RvPXUizc.js:41
wo @ index-RvPXUizc.js:41
_S @ index-RvPXUizc.js:41
S @ index-RvPXUizc.js:26
I @ index-RvPXUizc.js:26
VM3:348 native PushNotifications.removeAllListeners (#15859254)
VM3:328 result PushNotifications.removeAllListeners (#15859254)
index-RvPXUizc.js:1293 ğŸ“ [Router] Current user: NOT LOGGED IN ID: UNDEFINED
index-RvPXUizc.js:1293 [AUTH] Clearing old authentication data before login...
index-RvPXUizc.js:1293 [AUTH] Attempting login for: milica
index-RvPXUizc.js:1293 [API] Using backend URL: https://HGBRTehnickaSluzba.replit.app
index-RvPXUizc.js:1293 ğŸ“ [Router] Current user: NOT LOGGED IN ID: UNDEFINED
index-RvPXUizc.js:1293 [AUTH] Login successful for: Milica PetroviÄ‡ Role: recepcioner
index-RvPXUizc.js:1293 [AUTH] âœ… NEW JWT token stored: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiO...
index-RvPXUizc.js:1293 ğŸ“ [Router] Current user: Milica PetroviÄ‡ ID: e39c4001...
index-RvPXUizc.js:1293 [MY TASKS] Fetching tasks for user: e39c4001-e9d2-45a8-97aa-462b85d188b4
index-RvPXUizc.js:1293 [API] Using backend URL: https://HGBRTehnickaSluzba.replit.app
index-RvPXUizc.js:1293 [API REQUEST] GET https://HGBRTehnickaSluzba.replit.app/api/tasks/my?userId=e39c4001-e9d2-45a8-97aa-462b85d188b4
index-RvPXUizc.js:1293 [API REQUEST] Headers: {Authorization: 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2â€¦nQifQ.Pwgzc9YrVZDMHDbJ18iOT-e6lD8w0AND6cpXlkAjLwA'}
index-RvPXUizc.js:1293 ğŸ“± [useFCM:7:21:08 PM] Hook called with userId: e39c4001...
index-RvPXUizc.js:1293 ğŸ“± [useFCM:7:21:08 PM] Window location: https://localhost/
index-RvPXUizc.js:1293 âœ… [useFCM:7:21:08 PM] userId is valid - proceeding with FCM setup
index-RvPXUizc.js:1293 ğŸ“ [useFCM:7:21:08 PM] Postavljam timeout od 500ms za setupFCM...
index-RvPXUizc.js:1293 ğŸ“± [Web FCM] Preskakam Web FCM - koristi se Capacitor Push Notifications
index-RvPXUizc.js:1293 ğŸ“ [useFCM] Pozivam setupFCM...
index-RvPXUizc.js:1293 ğŸš€ [FCM:7:21:08 PM] Platform DETECTED: android, Is Native: true
index-RvPXUizc.js:1293 ğŸš€ [FCM:7:21:08 PM] Capacitor.isNativePlatform() = true
index-RvPXUizc.js:1293 âœ… [FCM:7:21:08 PM] JWT token dostupan
index-RvPXUizc.js:1293 ğŸ“± [FCM:7:21:08 PM] MOBILNA VERZIJA DETEKTOVANA! Platform: android
index-RvPXUizc.js:1293 ğŸ“ [FCM:7:21:08 PM] Kreiram notification channel...
VM3:348 native PushNotifications.createChannel (#15859255)
VM3:328 result PushNotifications.createChannel (#15859255)
index-RvPXUizc.js:1293 âœ… [FCM] Notification channel "reklamacije-alert" created
index-RvPXUizc.js:1293 âœ… [FCM:7:21:08 PM] Notification channel kreiran
index-RvPXUizc.js:1293 ğŸ“ [FCM:7:21:08 PM] Importujem @capacitor/push-notifications...
index-RvPXUizc.js:1293 âœ… [FCM:7:21:08 PM] PushNotifications importovan
index-RvPXUizc.js:1293 ğŸ“‹ [FCM:7:21:08 PM] Zahtevam push dozvole...
VM3:348 native PushNotifications.requestPermissions (#15859256)
VM3:328 result PushNotifications.requestPermissions (#15859256)
index-RvPXUizc.js:1293 âœ… [FCM:7:21:08 PM] Permission result: granted
index-RvPXUizc.js:1293 âœ… [FCM:7:21:08 PM] Push dozvola odobrena
index-RvPXUizc.js:1293 ğŸ“ [FCM:7:21:08 PM] Registrujem ureÄ‘aj...
index-RvPXUizc.js:1293 ğŸ“ [FCM:7:21:08 PM] Pozivam PushNotifications.register()...
VM3:348 native PushNotifications.addListener (#15859257)
VM3:348 native PushNotifications.addListener (#15859258)
VM3:348 native PushNotifications.addListener (#15859259)
VM3:348 native PushNotifications.addListener (#15859260)
VM3:348 native PushNotifications.register (#15859261)
VM3:328 result PushNotifications.register (#15859261)
index-RvPXUizc.js:1293 âœ… [FCM:7:21:08 PM] UreÄ‘aj registrovan - Äekam token...
VM3:328 result PushNotifications.addListener (#15859257)
index-RvPXUizc.js:1293 ğŸ”¥ [FCM:7:21:08 PM] Token primljen: eoxc2jNaST6LiHPAC-B0tP:APA91bEIYR9FrSWgzUY9pfE-clP...
index-RvPXUizc.js:1293 ğŸ“¤ [FCM:7:21:08 PM] Slanje tokena na backend...
index-RvPXUizc.js:1293 [API] Using backend URL: https://HGBRTehnickaSluzba.replit.app
index-RvPXUizc.js:1293 [API REQUEST] POST https://HGBRTehnickaSluzba.replit.app/api/users/fcm-token
index-RvPXUizc.js:1293 [API REQUEST] Headers: {Content-Type: 'application/json', Authorization: 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2â€¦nQifQ.Pwgzc9YrVZDMHDbJ18iOT-e6lD8w0AND6cpXlkAjLwA'}
index-RvPXUizc.js:1293 [API REQUEST] Body: {token: 'eoxc2jNaST6LiHPAC-B0tP:APA91bEIYR9FrSWgzUY9pfE-clPâ€¦oBxvbuuUhYqpM-9_g0r1tTCgCMXbKMui6dLDDepZXdVoJMPWs'}
index-RvPXUizc.js:1293 [API REQUEST] Response status: 200
index-RvPXUizc.js:1293 [MY TASKS] Success, tasks count: 3
index-RvPXUizc.js:1293 [API REQUEST] Response status: 200
index-RvPXUizc.js:1293 âœ… [FCM:7:21:08 PM] Token saÄuvan na backend! ResponseÂ {type: 'cors', url: 'https://hgbrtehnickasluzba.replit.app/api/users/fcm-token', redirected: false, status: 200, ok: true,Â â€¦}